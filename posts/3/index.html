
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>第七章</title>
  <meta name="author" content="第七章">

  
  <meta name="description" content="写这个库的初衷是为了防止一些常见的崩溃，扫了一圈github上已有的库，都不太合适，像avoidCrash虽然能用，但是我不喜欢它用try-catch来做防崩溃的方式，它GitHub上的issue页也有很多问题是不好去定位和解决的。所以决定自己来是实现一遍。仓库的GitHub地址， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kobe1941.github.io/posts/3/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="第七章" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-60680038-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">第七章</a></h1>
  
    <h2>去年今日此门中，人面桃花相映红。人面不知何处去，桃花依旧笑春风。</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="kobe1941.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ffextension.html">FFExtension</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-10-15T22:20:23+08:00'><span class='date'>2018 年10 月15 日</span> <span class='time'>10:20 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>写这个库的初衷是为了防止一些常见的崩溃，扫了一圈github上已有的库，都不太合适，像avoidCrash虽然能用，但是我不喜欢它用try-catch来做防崩溃的方式，它GitHub上的issue页也有很多问题是不好去定位和解决的。所以决定自己来是实现一遍。仓库的<a href="https://github.com/kobe1941/FFExtension">GitHub地址</a>，使用过程中遇到任何问题欢迎issue。</p>

<p>主要原理就是用Method Swizzle去hook系统类包括私有类的函数， 对常见的容器类，数组字典字符串这些有做保护，顺带新增了 NSSet，NSCache，NSUserDefaults，NSData ，NSAttributedString等几个类的保护，支持拦截 <code>unrecognized selector sent to instance</code> 异常，设置好要拦截的类即可。</p>

<p>一些使用代码规范就能解决的崩溃，比如 NSTimer，通知和 KVO 等等，本项目并未做额外处理，这种低级的失误，还是用代码规范来限制比较好。</p>

<p>已经在自己的项目用上了，目前工作稳定，iOS8.x 到 iOS12 都测试通过。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/ffextension.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/launch-time.html">iOS启动时间优化</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-07-22T15:49:44+08:00'><span class='date'>2018 年7 月22 日</span> <span class='time'>3:49 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2 id="section">背景</h2>

<p>一个项目做的时间长了，启动流程往往容易杂乱，库也用的越来越多，APP的启动时间也会慢慢变长。本次将针对iOS APP的启动时间优化一波。</p>

<p>通常针对一个技术点做优化的时候，都要先了解清楚这个技术点有哪些流程，优化的方向往往是减少流程的数量，以及减少每个流程的消耗。</p>

<p>本次优化从结果上来看，main阶段的优化效果最显著，尤其是启动时的一些IO操作处理，对启动时间的减少有很大作用。多线程启动的设计和验证最有意思，但是在实践上由于我们业务本身的原因，只开了额外一个子线程来并行启动，且仅在子线程做了少量的独立操作，这个要根据不同的业务去具体分析了。</p>

<p>一般说来，pre-main阶段的定义为APP开始启动到系统调用main函数这一段时间；main阶段则代表从main函数入口到主UI框架的viewDidAppear函数调用的这一段时间。（本文后续main阶段的时间统计都用<code>viewDidAppear</code>作为基准而非的<code>applicationWillFinishLaunching</code>）</p>

<p>本文前半部分讲原理（内容基本是从网上借鉴/摘录），后半部分讲实践，pre-main阶段的原理比较难理解，不过实践倒是根据结论直接做就好了。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/launch-time.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/jumping.html">跳伞初体验</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-24T21:29:44+08:00'><span class='date'>2018 年3 月24 日</span> <span class='time'>9:29 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>之前一直对跳伞充满期待，看了一些关于跳伞的游记和知乎回答，照片都拍的很美，抬高了我对这项运动的心理预期。整体体验下来，跳伞其实算还不错的运动，只是没有心理想象的那么刺激，所以心理落差还是会有一点的。不过这也提醒了我，保持平常心，才能知足常乐呀~
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/jumping.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/wisdom-of-life.html">《人生的智慧》</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-12-17T16:48:44+08:00'><span class='date'>2017 年12 月17 日</span> <span class='time'>4:48 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>整体上还不错的一本哲学书，内容比较泛，没有很多实际的例子，而是用一个个的抽象道理来阐述作者自己的哲学思想。个人觉得第五章和第六章比较有价值。尤其是对人生各个阶段的论述和理由，很赞。</p>

<p>另外，作者认为精神能力由先天决定，后天作用有限的观点，本人持保留态度，我还是觉得很多东西通过学习和练习是可以提高的，哪怕是精神享受和领悟，审美或者冥想等等。</p>

<p>空虚和无聊的论述让我想起<a href="https://c.m.163.com/news/a/D3HCE9AC05148SFG.html">一篇文章</a>，讲述了一个美国人，高富帅，年纪轻轻就几乎实现所有的梦想和追去，但是并没有善终，可能就是跟空虚有关吧。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/wisdom-of-life.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/art-of-travel.html">《旅行的艺术》</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-01-23T23:39:10+08:00'><span class='date'>2017 年1 月23 日</span> <span class='time'>11:39 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>本书既不是旅行攻略而不是介绍各个旅行景点的风光的书，本书用不同的人在不同城市的旅行或生活的经历，来描述那个城市的细节，比如城市的生活环境、风景、人文历史、生活习惯等等。本书艺术一节（普罗旺斯）的向导是梵高，好奇心（马德里）则是洪堡，对异国情调（阿姆斯特丹）的介绍则是福楼拜作为向导。说是向导，其实就是以那个人在当地的经历作为线索来展开叙述。</p>

<p>本书有一点跟我之前的想法类似，那就是旅行可以接触到陌生的人，欣赏陌生的风景，在一个陌生的环境里，你可以重新审视自己和身边的一切，改变一些你不喜欢的东西，甚至重塑自己，成为一个更好的自己。这也是我喜欢旅行的原因，走出舒适区，就意味着有机会去做出改变。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/art-of-travel.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/summary-2016.html">2016</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-01-01T21:24:18+08:00'><span class='date'>2017 年1 月1 日</span> <span class='time'>9:24 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>去年的年度计划大概执行了70%-80%，整体上还可以，本来我也没啥高大上的追求。。</p>

<h2 id="section">1.工作</h2>

<p>不是在公司工作，就是在去公司的路上。。。</p>

<p>所以没有什么工作和生活的平衡，略过。</p>

<h2 id="section-1">2.生活</h2>

<p>4月去听过音乐会；</p>

<p>5月去广美看过毕业展；</p>

<p>7月随团队到湖南东江湖飘过流；</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/summary-2016.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/art-woman.html">《文艺女青年这种病，生个孩子就好了》</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-15T21:30:41+08:00'><span class='date'>2016 年12 月15 日</span> <span class='time'>9:30 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>全书共四章，除了第三章外内容都有一些吸引我的地方。内容围绕生孩子和带孩子展开，主要是作者的吐槽，且伴随着一些家常过日子的杂碎争端和淡淡的幸福。本书男女适用，尤其适合没结婚或者没生小孩的男男女女。男生认真看看生产过程和照顾孩子几部分张姐的内容，站在女方的角度感受一下，说不定有所裨益。</p>

<p><img src="/images/2016/12/15/1.png" alt="" /></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/art-woman.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/wastelife.html">《把生命浪费在美好的事情上》</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-05T22:02:15+08:00'><span class='date'>2016 年12 月5 日</span> <span class='time'>10:02 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>一本散文集，基本选自吴晓波之前的专栏或者公众号的文章，只是在这里做一个聚合，编成一本书。</p>

<p>内容涉及的范围比较发散，不过也都是跟财经和个人财富有关的，质量上还算可以。当然，这本书最好的部分其实是书名。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/wastelife.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/alibaba-one-year.html">写在阿里一周年</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-01T21:22:00+08:00'><span class='date'>2016 年12 月1 日</span> <span class='time'>9:22 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>从去年入职到今天，整整满一年。这一年经历过很多事情，发生了很多的变化。很幸运当初选择了互联网行业，整体感觉还不错~</p>

<p><img src="/images/2016/12/01/1.jpg" alt="" /></p>

<p>看着这张图，突然想起来，这是我毕业后待的时间最长的一家公司o(╯□╰)o</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/alibaba-one-year.html">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ipa-size-thin.html">iOS安装包瘦身指南</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-10-12T07:52:41+08:00'><span class='date'>2016 年10 月12 日</span> <span class='time'>7:52 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>先看下Apple对安装包大小的限制：</p>

<p><img src="/images/2016/10/12/1.png" alt="" /></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/ipa-size-thin.html">阅读全文</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/4">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/2">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/ioskai-fa/'>ios开发 (29)</a></li>
<li class='category'><a href='/blog/categories/ge-ren-zong-jie/'>个人总结 (6)</a></li>
<li class='category'><a href='/blog/categories/qi-ta/'>其他 (2)</a></li>
<li class='category'><a href='/blog/categories/du-shu-bi-ji/'>读书笔记 (40)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/see-world-by-president-li.html">《李光耀观天下》</a>
      </li>
    
      <li class="post">
        <a href="/blog/human-history-simple.html">《人类简史》</a>
      </li>
    
      <li class="post">
        <a href="/blog/great-stocker-memory.html">《股票大作手回忆录》</a>
      </li>
    
      <li class="post">
        <a href="/blog/peter-lynch-successful-investment.html">《彼得林奇的成功投资》</a>
      </li>
    
      <li class="post">
        <a href="/blog/compo.html">《涛动周期论》</a>
      </li>
    
  </ul>
</section>
<section>
    <h1>新浪微博</h1>
    <ul id="weibo">
    <li>

	<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1247589445&verifier=42c93d86&dpc=1"></iframe>

      </li>
    </ul>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2023 - 第七章 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
